<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parkyspot - Booking Confirmation</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">
  <!-- Header Section -->
  <header class="mb-6">
    <nav class="bg-white shadow-md p-4">
      <div class="container mx-auto flex justify-between items-center">
        <div class="flex items-center">
          <img src="/Images/Icon.png" alt="Icon" class="h-12">
          <a href="index.html" class="text-2xl font-bold text-blue-500 ml-2">Parkyspot</a>
        </div>
        <div>
          <a href="reservations.html" class="ml-4 text-gray-700 hover:text-blue-500">Home</a>
          <a href="profile.html" class=" ml-4 text-gray-700 hover:text-blue-500">Profile</a>
          <a href="reservations.html" class="ml-4 text-gray-700 hover:text-blue-500">My Reservations</a>
        </div>
      </div>
    </nav>
  </header>

  <section class="container mx-auto p-6 mt-6 flex gap-6 items-stretch justify-center">
    <!-- Confirmation Details -->
    <div class="bg-white rounded-lg shadow-md p-6 flex-1 flex flex-col justify-between">
      <!-- Success Icon -->
      <div class="flex justify-center items-center w-12 h-12 bg-green-500 rounded-full mx-auto">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
      </div>

      <!-- Title -->
      <h2 class="text-3xl font-semibold text-blue-700 text-center mt-6 mb-4">Booking Confirmed</h2>

      <div class="mt-6 space-y-4">
        <!-- Booking ID -->
        <div
          class="flex items-center space-x-4 bg-blue-50 p-4 rounded-lg shadow-md hover:bg-blue-100 transition duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4v16M8 4v16" />
          </svg>
          <p class="text-lg font-medium text-blue-700"><strong>Booking ID:</strong></p>
          <p id="booking-id" class="text-gray-600 text-xl font-semibold">1234A5</p>
        </div>

 <!-- Location -->
 <div
 class="flex items-center space-x-4 bg-green-50 p-4 rounded-lg shadow-md hover:bg-green-100 transition duration-300">
 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24"
   stroke="currentColor">
   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
     d="M12 2a9 9 0 00-9 9c0 7 9 11 9 11s9-4 9-11a9 9 0 00-9-9z" />
   <circle cx="12" cy="11" r="3" />
 </svg>
 <p class="text-lg font-medium text-green-700"><strong>Location:</strong></p>
 <p id="location" class="text-gray-600 text-xl">${location}</p>
</div>

<!-- Distance -->
<div
 class="flex items-center space-x-4 bg-blue-50 p-4 rounded-lg shadow-md hover:bg-blue-100 transition duration-300">
 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24"
   stroke="currentColor">
   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4v16M8 4v16" />
 </svg>
 <p class="text-lg font-medium text-blue-700"><strong>Distance:</strong></p>
 <p id="distance" class="text-gray-600 text-xl">${distance}</p>
</div>

<!-- Price -->
<div
 class="flex items-center space-x-4 bg-yellow-50 p-4 rounded-lg shadow-md hover:bg-yellow-100 transition duration-300">
 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-500" fill="none" viewBox="0 0 24 24"
   stroke="currentColor">
   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
     d="M3 12l2-2m0 0l2 2m-2-2v6M21 12l-2 2m0 0l-2-2m2 2v-6" />
 </svg>
 <p class="text-lg font-medium text-yellow-700"><strong>Price:</strong></p>
 <p id="price" class="text-gray-600 text-xl">${price}</p>
</div>

<!-- Slot Number -->
<div
 class="flex items-center space-x-4 bg-indigo-50 p-4 rounded-lg shadow-md hover:bg-indigo-100 transition duration-300">
 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-500" fill="none" viewBox="0 0 24 24"
   stroke="currentColor">
   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
     d="M3 12l2-2m0 0l2 2m-2-2v6M21 12l-2 2m0 0l-2-2m2 2v-6" />
 </svg>
 <p class="text-lg font-medium text-indigo-700"><strong>Slot:</strong></p>
 <p id="slot" class="text-gray-600 text-xl">${slot}</p>
</div>

<!-- Date & Time -->
<div
 class="flex items-center space-x-4 bg-gray-50 p-4 rounded-lg shadow-md hover:bg-gray-100 transition duration-300">
 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24"
   stroke="currentColor">
   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
     d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
 </svg>
 <div>
   <p class="text-lg font-medium text-gray-700"><strong>Date:</strong></p>
   <p id="date" class="text-xl text-gray-600">21-11-2024</p>
 </div>
 <div class="ml-6">
   <p class="text-lg font-medium text-gray-700"><strong>Time:</strong></p>
   <p id="time" class="text-xl text-gray-600">${time}</p>
 </div>
</div>

</div>

      <!-- View Bookings Button (Positioned at the Bottom) -->
      <div class="mt-6 flex justify-center">
        <a href="/Parkyspot/reservationPGE.HTML"
          class="bg-blue-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-600">
          View My Bookings
        </a>
      </div>
    </div>

    <!-- QR Code Section -->
    <div class="bg-white rounded-lg shadow-md text-center p-6 flex-1">
      <h3 class="text-2xl font-semibold text-gray-700">Scan this QR Code at the Entrance</h3>
      <div class="mt-4 flex justify-center">
        <img src="/Images/QR Code.webp" alt="QR Code" class="w-full max-w-xs h-auto rounded-lg border border-gray-300">
      </div>
      <p class="mt-2 text-sm text-gray-500">Keep this QR code handy for a smooth entry.</p>
      <a id="download-btn" href="/Images/QR Code.webp" download="/Images/QR Code.webp"
           class="mt-4 bg-blue-500 text-white px-4 py-2 inline-block rounded-lg font-semibold hover:bg-blue-600">
           Download QR Code
        </a>
    </div>

  </section>

  <!-- Footer -->
  <footer class="bg-white p-4 text-center text-gray-600 mt-12">
    <p>&copy; 2024 Parkyspot. All rights reserved.</p>
  </footer>

  <script>
    function getQueryParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        name: params.get('name'),
        distance: params.get('distance'),
        price: params.get('price'),
        slot: params.get('slot'),
        time: params.get('time')
      };
    }

    document.addEventListener('DOMContentLoaded', () => {
      const params = getQueryParams();

      // Check if all parameters are present and populate the elements
      if (params.name && params.distance && params.price && params.slot && params.time) {
        document.getElementById('location').textContent = params.name;
        document.getElementById('distance').textContent = params.distance;
        document.getElementById('price').textContent = params.price;
        document.getElementById('slot').textContent = params.slot;
        document.getElementById('time').textContent = params.time;
      } else {
        console.error('Missing query parameters');
        alert('Booking details could not be loaded. Please check the URL.');
      }
    });

    
    function downloadQRCode() {
      const qrCodeElement = document.getElementById('qr-code');
      const qrCodeImage = qrCodeElement.querySelector('img');
      const qrCodeURL = qrCodeImage.src;
      const link = document.createElement('a');
      link.href = qrCodeURL;
      link.download = 'parkyspot_qr_code.png';
      link.click();
    }
  </script>

</body>

</html>
